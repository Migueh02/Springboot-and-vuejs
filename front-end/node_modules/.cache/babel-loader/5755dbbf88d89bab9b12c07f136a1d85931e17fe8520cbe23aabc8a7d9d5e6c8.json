{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, toDisplayString as _toDisplayString, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  key: 1\n};\nconst _hoisted_3 = {\n  type: \"submit\"\n};\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createCommentVNode(\" Formulario para Crear Estudiante \"), !$data.editMode ? (_openBlock(), _createElementBlock(\"h3\", _hoisted_1, \"Crear Estudiante\")) : _createCommentVNode(\"v-if\", true), $data.editMode ? (_openBlock(), _createElementBlock(\"h3\", _hoisted_2, \"Editar Estudiante\")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"form\", {\n    onSubmit: _cache[6] || (_cache[6] = _withModifiers($event => $data.editMode ? $options.updateEstudiante() : $options.createEstudiante, [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.nuevoEstudiante.cc = $event),\n    placeholder: \"Cédula\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.nuevoEstudiante.cc]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.nuevoEstudiante.Nombre = $event),\n    placeholder: \"Nombre\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.nuevoEstudiante.Nombre]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.nuevoEstudiante.Apellido = $event),\n    placeholder: \"Apellido\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.nuevoEstudiante.Apellido]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.nuevoEstudiante.Telefono = $event),\n    placeholder: \"Teléfono\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.nuevoEstudiante.Telefono]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.nuevoEstudiante.Email = $event),\n    placeholder: \"Email\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.nuevoEstudiante.Email]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.nuevoEstudiante.Carrera = $event),\n    placeholder: \"Carrera\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.nuevoEstudiante.Carrera]]), _createElementVNode(\"button\", _hoisted_3, _toDisplayString($data.editMode ? 'Actualizar Estudiante' : 'Crear Estudiante'), 1 /* TEXT */)], 32 /* NEED_HYDRATION */), _createCommentVNode(\" Listado de Estudiantes \"), _cache[8] || (_cache[8] = _createElementVNode(\"h2\", null, \"Listado de Estudiantes\", -1 /* HOISTED */)), _createElementVNode(\"table\", null, [_cache[7] || (_cache[7] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"CC\"), _createElementVNode(\"th\", null, \"Nombre\"), _createElementVNode(\"th\", null, \"Apellido\"), _createElementVNode(\"th\", null, \"Acciones\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.estudiantes, estudiante => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: estudiante.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(estudiante.cc), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(estudiante.nombre), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(estudiante.apellido), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      onClick: $event => $options.editEstudiante(estudiante)\n    }, \"Editar\", 8 /* PROPS */, _hoisted_4), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteEstudiante(estudiante.id)\n    }, \"Eliminar\", 8 /* PROPS */, _hoisted_5)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["key","type","_createElementBlock","_createCommentVNode","$data","editMode","_hoisted_1","_hoisted_2","_createElementVNode","onSubmit","_cache","_withModifiers","$event","$options","updateEstudiante","createEstudiante","nuevoEstudiante","cc","placeholder","required","Nombre","Apellido","Telefono","Email","Carrera","_hoisted_3","_toDisplayString","_Fragment","_renderList","estudiantes","estudiante","id","nombre","apellido","onClick","editEstudiante","_hoisted_4","deleteEstudiante","_hoisted_5"],"sources":["/home/migueh/Front Vue/estudiante-crud/src/components/EstudiantesList.vue"],"sourcesContent":["\n<template>\n  <div>\n    <!-- Formulario para Crear Estudiante -->\n    <h3 v-if=\"!editMode\">Crear Estudiante</h3>\n    <h3 v-if=\"editMode\">Editar Estudiante</h3>\n    <form @submit.prevent=\"editMode ? updateEstudiante() : createEstudiante\">\n      <input v-model=\"nuevoEstudiante.cc\" placeholder=\"Cédula\" required />\n      <input v-model=\"nuevoEstudiante.Nombre\" placeholder=\"Nombre\" required />\n      <input v-model=\"nuevoEstudiante.Apellido\" placeholder=\"Apellido\" required />\n      <input v-model=\"nuevoEstudiante.Telefono\" placeholder=\"Teléfono\" />\n      <input v-model=\"nuevoEstudiante.Email\" placeholder=\"Email\" />\n      <input v-model=\"nuevoEstudiante.Carrera\" placeholder=\"Carrera\" />\n      <button type=\"submit\">{{ editMode ? 'Actualizar Estudiante' : 'Crear Estudiante' }}</button>\n    </form>\n\n    <!-- Listado de Estudiantes -->\n    <h2>Listado de Estudiantes</h2>\n    <table>\n      <thead>\n        <tr>\n          <th>CC</th>\n          <th>Nombre</th>\n          <th>Apellido</th>\n          <th>Acciones</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"estudiante in estudiantes\" :key=\"estudiante.id\">\n          <td>{{ estudiante.cc }}</td>\n          <td>{{ estudiante.nombre }}</td>\n          <td>{{ estudiante.apellido }}</td>\n          <td>\n            <button @click=\"editEstudiante(estudiante)\">Editar</button>\n            <button @click=\"deleteEstudiante(estudiante.id)\">Eliminar</button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n  \n  <script>\n  import axios from 'axios'\n  \n  export default {\n    data() {\n      return {\n        estudiantes: [],\n        nuevoEstudiante: {\n          cc: '',\n          Nombre: '',\n          Apellido: '',\n          Telefono: '',\n          Email: '',\n          Carrera: ''\n        },\n        editMode: false, // Controla si estamos editando\n        currentEstudiante: null, // Guarda el estudiante actual a editar\n      }\n    },\n    methods: {\n      // Obtener todos los estudiantes\n      async getEstudiantes() {\n        try {\n          const response = await axios.get('http://localhost:8080/api/uniminuto/estudiantes')\n          this.estudiantes = response.data\n        } catch (error) {\n          console.error('Hubo un error al obtener los estudiantes:', error)\n        }\n      },\n      // Crear un nuevo estudiante\n      async createEstudiante() {\n        try {\n          await axios.post('http://localhost:8080/api/uniminuto/estudiantes', this.nuevoEstudiante)\n          this.getEstudiantes()\n          this.resetForm()\n        } catch (error) {\n          console.error('Hubo un error al crear el estudiante:', error)\n        }\n      },\n      // Eliminar un estudiante\n      async deleteEstudiante(id) {\n        try {\n          await axios.delete(`http://localhost:8080/api/uniminuto/estudiantes/${id}`)\n          this.getEstudiantes()\n        } catch (error) {\n          console.error('Hubo un error al eliminar el estudiante:', error)\n        }\n      },\n      // Editar un estudiante\n      editEstudiante(estudiante) {\n        this.editMode = true // Activamos el modo de edición\n        this.currentEstudiante = estudiante // Guardamos el estudiante a editar\n        // Cargamos los datos en el formulario\n        this.nuevoEstudiante = { ...estudiante }\n      },\n      // Actualizar un estudiante\n      async updateEstudiante() {\n        try {\n          await axios.put(`http://localhost:8080/api/uniminuto/estudiantes/${this.currentEstudiante.id}`, this.nuevoEstudiante)\n          this.getEstudiantes()\n          this.resetForm()\n        } catch (error) {\n          console.error('Hubo un error al actualizar el estudiante:', error)\n        }\n      },\n      // Restablecer el formulario\n      resetForm() {\n        this.nuevoEstudiante = {\n          cc: '',\n          Nombre: '',\n          Apellido: '',\n          Telefono: '',\n          Email: '',\n          Carrera: ''\n        }\n        this.editMode = false // Desactivamos el modo de edición\n        this.currentEstudiante = null\n      }\n    },\n    mounted() {\n      this.getEstudiantes()\n    }\n  }\n  </script>\n  \n\n  <style scoped>\n  table {\n    width: 100%;\n    border-collapse: collapse;\n  }\n  \n  th, td {\n    padding: 10px;\n    border: 1px solid #ddd;\n  }\n  \n  button {\n    padding: 5px 10px;\n    margin: 5px;\n  }\n  </style>\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}